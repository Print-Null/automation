host: ms_host
http_type: http
request_type: post
parameter_type: json
timeout: 120
address: ms/api/fleet/line/approve/$manager_backyard_overtime_car_ms_fleet_line_approve_FD_unilateral_0_0_["data"]["items"][-3]["id"]$/pass
#  1: ms/api/fleet/line/approve/$backyard_overtime_car_ms_fleet_line_approve_0_0_["data"]["items"][-2]["id"]$/pass
#  2: ms/api/fleet/line/approve/$backyard_overtime_car_ms_fleet_line_approve_0_0_["data"]["items"][-3]["id"]$/pass
#  3: ms/api/fleet/line/approve/$backyard_overtime_car_ms_fleet_line_approve_0_0_["data"]["items"][-4]["id"]$/pass
#  4: ms/api/fleet/line/approve/$backyard_overtime_car_ms_fleet_line_approve_0_0_["data"]["items"][-5]["id"]$/pass
#  5: ms/api/fleet/line/approve/$backyard_overtime_car_ms_fleet_line_approve_0_0_["data"]["items"][-6]["id"]$/pass
#  6: ms/api/fleet/line/approve/$backyard_overtime_car_ms_fleet_line_approve_0_0_["data"]["items"][-7]["id"]$/pass
#  7: ms/api/fleet/line/approve/$backyard_overtime_car_ms_fleet_line_approve_0_0_["data"]["items"][-8]["id"]$/pass

headers:
  0:
    Accept-Language: zh-CN
    X-MS-SESSION-ID: $backyard_overtime_car_ms_api_auth_signin_0_0_0_["data"]["session_id"]$
    Accept: application/json, text/plain, */*
#  1:
#    Accept-Language: en-US
#    X-MS-SESSION-ID: $backyard_overtime_car_ms_api_auth_signin_0_0_["data"]["session_id"]$
#    Accept: application/json, text/plain, */*
#  2:
#    Accept-Language: th-CN
#    X-MS-SESSION-ID: $backyard_overtime_car_ms_api_auth_signin_0_0_["data"]["session_id"]$
#    Accept: application/json, text/plain, */*
success:
  parameter:
    0:
      #加班车申请（中控审批界面）->审批通过
      #backyard_overtime_car_ms_api_fleet_line_approve_1_0_0 加班车申请（中控审批界面） 需要修改
      #...
      #                                                 _0_7 加班车申请（中控审批界面）
      #backyard_overtime_car_ms_approve_van_info_query_0_0_0 只有 0 车牌号模糊搜索 不用修改
      car_type: '[int]$manager_backyard_overtime_car_ms_api_fleet_line_approve_1_FD_unilateral_0_2_["data"]["car_type"]$'  #改  backyard_overtime_car_ms_api_fleet_line_approve_1_FD_0_  0-6
      fleet_id: '$backyard_overtime_car_ms_approve_van_info_query_FD_unilateral_0_0_0_["data"][2]["line_van_query_dto"]["fleet_id"]$' #改backyard_overtime_car_ms_approve_van_info_query_FD_0_0_0_["data"] [?] 0-6
      plan_date: "$[python]datetime.datetime.now().strftime('%Y-%m-%d')$"
      single_line: 2
      plan_back_date: "$[python]datetime.datetime.now().strftime('%Y-%m-%d')$"
      system_quote: null
      abnormal_cost: null
      final_cost: 5500
      line_cost: 2200
      line_back_cost: 3300
      line_name: 'FDC1-$manager_backyard_overtime_car_ms_api_fleet_line_approve_1_FD_unilateral_0_2_["data"]["car_type_text"]$-LT1-3421-$[python]datetime.datetime.now().strftime("%Y-%m-%d 23:30")$'
      line_back_name: 'FDC2-$manager_backyard_overtime_car_ms_api_fleet_line_approve_1_FD_unilateral_0_2_["data"]["car_type_text"]$-3421-LT1-$[python]datetime.datetime.now().strftime("%Y-%m-%d 23:30")$'
      driver: autoTest
      driver_phone: '1111111111'
      province_code: '$backyard_overtime_car_ms_approve_van_info_query_FD_unilateral_0_0_0_["data"][2]["line_van_query_dto"]["province_code"]$'
  #    plate_name: '$backyard_overtime_car_ms_approve_van_info_query_0_0_0_["data"][0]["plate_name"]$'
      plate_name: '$[python]random.randint(100000000,9999999999)$'
      audit_type: 2
      fd_courier_id: '$[config]courier$'
      fd_courier_name: autoTest
      line_timetable_dtolist:
        - order_no: 1
          store_id: '$manager_backyard_overtime_car_ms_api_fleet_line_approve_1_FD_unilateral_0_2_["data"]["start_store"]$'
          estimate_end_time: '861'
          estimate_start_time: '921'
        - order_no: 2
          store_id: '$manager_backyard_overtime_car_ms_api_fleet_line_approve_1_FD_unilateral_0_2_["data"]["end_store"]$'
          estimate_start_time: ''
          estimate_end_time: '981'
      line_back_timetable_dtolist:
        - order_no: 1
          store_id: '$manager_backyard_overtime_car_ms_api_fleet_line_approve_1_FD_unilateral_0_2_["data"]["end_store"]$'
          estimate_end_time: '1041'
          estimate_start_time: '1101'
          running_mileage: ''
        - order_no: 2
          store_id: '$manager_backyard_overtime_car_ms_api_fleet_line_approve_1_FD_unilateral_0_2_["data"]["start_store"]$'
          running_mileage: ''
          estimate_start_time: ''
          estimate_end_time: '1162'

    ##################



  check:
    check_type: json
    expected_code: 200
    code: 1
    code_key: ""
    msg:
      data_key: "message"
      z_message: "success"
      e_message: "success"
      t_message: "success"
      headers_language: "Accept-Language"

  relevance: {}
error:
  parameter: {}
  check: {}